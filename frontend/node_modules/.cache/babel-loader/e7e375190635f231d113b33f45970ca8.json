{"ast":null,"code":"var _jsxFileName = \"/Users/mac/Desktop/mern-ecommerce-from-scratch/frontend/src/screens/PlaceOrderScreen.js\";\nimport React, { useEffect } from 'react';\nimport { Button, Col, Row, ListGroup, Image, Card } from 'react-bootstrap';\nimport { Link } from 'react-router-dom';\nimport { useDispatch, useSelector } from 'react-redux';\nimport Message from '../components/Message';\nimport CheckoutSteps from '../components/CheckoutSteps';\nimport { createOrder } from '../actions/orderActions';\n\nconst PlaceOrderScreen = ({\n  history\n}) => {\n  const dispatch = useDispatch();\n\n  const addDecimels = num => {\n    return (Math.round(num * 100) / 100).toFixed(2);\n  };\n\n  const cart = useSelector(state => state.cart);\n  cart.itemsPrice = addDecimels(cart.cartItems.reduce((acc, item) => acc + item.price * item.qty, 0));\n  cart.shippingPrice = addDecimels(cart.itemsPrice > 100 ? 0 : 100);\n  cart.taxPrice = addDecimels(Number(.15 * cart.itemsPrice).toFixed(2));\n  cart.totalPrice = (Number(cart.itemsPrice) + Number(cart.shippingPrice) + Number(cart.taxPrice)).toFixed(2);\n  const createOrder = useSelector(status => status.orderCreate);\n  const {\n    order,\n    success,\n    error\n  } = createOrder;\n  useEffect(() => {\n    if (success) {\n      history.push(`/order/${order._id}`);\n    }\n  }, [history, success]);\n\n  const placeOrderHandler = () => {\n    dispatch(createOrder({\n      orderItems: cart.cartItems,\n      shippingAddress: cart.shippingAddress,\n      paymentMethod: cart.paymentMethod,\n      itemsPrice: cart.itemsPric,\n      shippingPrice: cart.shippingPrice,\n      taxPrice: cart.taxPrice,\n      totalPrice: cart.totalPrice\n    }));\n  };\n\n  return /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(CheckoutSteps, {\n    step1: true,\n    step2: true,\n    step3: true,\n    step4: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 11\n    }\n  }), /*#__PURE__*/React.createElement(Row, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(Col, {\n    md: 8,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(ListGroup, {\n    variant: \"flush\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 17\n    }\n  }, /*#__PURE__*/React.createElement(ListGroup.Item, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"h2\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 25\n    }\n  }, \"Shipping\"), /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 25\n    }\n  }, /*#__PURE__*/React.createElement(\"strong\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 29\n    }\n  }, \"Address: \"), cart.shippingAddress.address, \", \", cart.shippingAddress.city, \",\", cart.shippingAddress.postalCode, \",\", cart.shippingAddress.country, \",\")), /*#__PURE__*/React.createElement(ListGroup.Item, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"h2\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 25\n    }\n  }, \"Payment Method\"), /*#__PURE__*/React.createElement(\"strong\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 25\n    }\n  }, \"Method: \"), cart.paymentMethod), /*#__PURE__*/React.createElement(ListGroup.Item, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 21\n    }\n  }, /*#__PURE__*/React.createElement(\"h2\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 25\n    }\n  }, \"Order Items\"), cart.cartItems.length === 0 ? /*#__PURE__*/React.createElement(Message, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 56\n    }\n  }, \"Your cart is empty\") : /*#__PURE__*/React.createElement(ListGroup, {\n    variant: \"flush\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 67,\n      columnNumber: 29\n    }\n  }, cart.cartItems.map((item, index) => /*#__PURE__*/React.createElement(ListGroup.Item, {\n    key: index,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 37\n    }\n  }, /*#__PURE__*/React.createElement(Row, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 41\n    }\n  }, /*#__PURE__*/React.createElement(Col, {\n    md: 1,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71,\n      columnNumber: 45\n    }\n  }, /*#__PURE__*/React.createElement(Image, {\n    src: item.image,\n    alt: item.name,\n    fluid: true,\n    rounded: true,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72,\n      columnNumber: 49\n    }\n  })), /*#__PURE__*/React.createElement(Col, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 74,\n      columnNumber: 45\n    }\n  }, /*#__PURE__*/React.createElement(Link, {\n    to: `/product/${item.product}`,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 49\n    }\n  }, item.name)), /*#__PURE__*/React.createElement(Col, {\n    md: 4,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 77,\n      columnNumber: 45\n    }\n  }, item.qty, \" x $\", item.price, \" = $\", item.qty * item.price)))))))), /*#__PURE__*/React.createElement(Col, {\n    md: 4,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 88,\n      columnNumber: 15\n    }\n  }, /*#__PURE__*/React.createElement(Card, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 89,\n      columnNumber: 19\n    }\n  }, /*#__PURE__*/React.createElement(ListGroup, {\n    variant: \"flush\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 90,\n      columnNumber: 23\n    }\n  }, /*#__PURE__*/React.createElement(ListGroup.Item, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 91,\n      columnNumber: 27\n    }\n  }, /*#__PURE__*/React.createElement(\"h2\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 92,\n      columnNumber: 31\n    }\n  }, \"Order Summary\")), /*#__PURE__*/React.createElement(ListGroup.Item, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 94,\n      columnNumber: 27\n    }\n  }, /*#__PURE__*/React.createElement(Row, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 95,\n      columnNumber: 31\n    }\n  }, /*#__PURE__*/React.createElement(Col, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 96,\n      columnNumber: 35\n    }\n  }, \"Items\"), /*#__PURE__*/React.createElement(Col, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 97,\n      columnNumber: 35\n    }\n  }, \"$\", cart.itemsPrice))), /*#__PURE__*/React.createElement(ListGroup.Item, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 100,\n      columnNumber: 27\n    }\n  }, /*#__PURE__*/React.createElement(Row, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 101,\n      columnNumber: 31\n    }\n  }, /*#__PURE__*/React.createElement(Col, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 102,\n      columnNumber: 35\n    }\n  }, \"Shipping\"), /*#__PURE__*/React.createElement(Col, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 103,\n      columnNumber: 35\n    }\n  }, \"$\", cart.shippingPrice))), /*#__PURE__*/React.createElement(ListGroup.Item, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 106,\n      columnNumber: 27\n    }\n  }, /*#__PURE__*/React.createElement(Row, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 107,\n      columnNumber: 31\n    }\n  }, /*#__PURE__*/React.createElement(Col, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 108,\n      columnNumber: 35\n    }\n  }, \"Tax\"), /*#__PURE__*/React.createElement(Col, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 109,\n      columnNumber: 35\n    }\n  }, \"$\", cart.taxPrice))), /*#__PURE__*/React.createElement(ListGroup.Item, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 112,\n      columnNumber: 27\n    }\n  }, /*#__PURE__*/React.createElement(Row, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 113,\n      columnNumber: 31\n    }\n  }, /*#__PURE__*/React.createElement(Col, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 114,\n      columnNumber: 35\n    }\n  }, \"Total\"), /*#__PURE__*/React.createElement(Col, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 115,\n      columnNumber: 35\n    }\n  }, \"$\", cart.totalPrice))), /*#__PURE__*/React.createElement(ListGroup.Item, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 118,\n      columnNumber: 27\n    }\n  }, /*#__PURE__*/React.createElement(Button, {\n    type: \"button\",\n    className: \"btn-block\",\n    disabled: cart.cartItems === 0,\n    onClick: placeOrderHandler,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 119,\n      columnNumber: 31\n    }\n  }, \"Place Order\")))))));\n};\n\nexport default PlaceOrderScreen;","map":{"version":3,"sources":["/Users/mac/Desktop/mern-ecommerce-from-scratch/frontend/src/screens/PlaceOrderScreen.js"],"names":["React","useEffect","Button","Col","Row","ListGroup","Image","Card","Link","useDispatch","useSelector","Message","CheckoutSteps","createOrder","PlaceOrderScreen","history","dispatch","addDecimels","num","Math","round","toFixed","cart","state","itemsPrice","cartItems","reduce","acc","item","price","qty","shippingPrice","taxPrice","Number","totalPrice","status","orderCreate","order","success","error","push","_id","placeOrderHandler","orderItems","shippingAddress","paymentMethod","itemsPric","address","city","postalCode","country","length","map","index","image","name","product"],"mappings":"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","sourcesContent":["import React, { useEffect } from 'react'\nimport { Button, Col,Row, ListGroup, Image, Card, } from 'react-bootstrap'\nimport{Link} from 'react-router-dom'\nimport { useDispatch, useSelector } from 'react-redux'\nimport Message from '../components/Message'\nimport CheckoutSteps from '../components/CheckoutSteps'\nimport {createOrder} from '../actions/orderActions'\n\nconst PlaceOrderScreen = ({history}) => {\n    const dispatch = useDispatch()\n    const addDecimels = (num) => {\n        return (Math.round(num * 100)/ 100).toFixed(2)\n    }\n    const cart = useSelector( state=> state.cart)\n\n    cart.itemsPrice = addDecimels(cart.cartItems.reduce((acc, item) => acc + item.price * item.qty, 0))\n    cart.shippingPrice = addDecimels(cart.itemsPrice > 100 ? 0 : 100)\n    cart.taxPrice = addDecimels(Number(.15 * cart.itemsPrice).toFixed(2))\n    cart.totalPrice = (Number(cart.itemsPrice) + Number(cart.shippingPrice) + Number(cart.taxPrice)).toFixed(2)\n\n   \n\n    const createOrder = useSelector(status => status.orderCreate)\n    const {order, success, error} = createOrder\n\n    useEffect(() => {\n        if(success) {\n            history.push(`/order/${order._id}`)\n        }\n        \n    }, [history, success])\n\n    const placeOrderHandler = () => {\n        dispatch(createOrder({\n            orderItems:cart.cartItems,\n            shippingAddress: cart.shippingAddress,\n            paymentMethod: cart.paymentMethod,\n            itemsPrice:cart.itemsPric,\n            shippingPrice: cart.shippingPrice,\n            taxPrice: cart.taxPrice,\n            totalPrice: cart.totalPrice\n        }))\n    }\n    return (    \n        <>\n          <CheckoutSteps step1 step2 step3 step4 />  \n          <Row>\n              <Col md={8}>\n                <ListGroup variant='flush'>\n                    <ListGroup.Item>\n                        <h2>Shipping</h2>\n                        <p>\n                            <strong>Address: </strong>\n                            {cart.shippingAddress.address}, {cart.shippingAddress.city},{cart.shippingAddress.postalCode},{cart.shippingAddress.country},\n                        </p>\n                    </ListGroup.Item>\n\n                    <ListGroup.Item>\n                        <h2>Payment Method</h2>\n                        <strong>Method: </strong>\n                        {cart.paymentMethod}\n                    </ListGroup.Item>\n\n                    <ListGroup.Item>\n                        <h2>Order Items</h2>\n                        {cart.cartItems.length === 0 ? <Message>Your cart is empty</Message> : (\n                            <ListGroup variant='flush'>\n                                {cart.cartItems.map((item, index) => (\n                                    <ListGroup.Item key={index}>\n                                        <Row>\n                                            <Col md={1}>\n                                                <Image src={item.image} alt={item.name} fluid rounded />\n                                            </Col>\n                                            <Col>\n                                                <Link to={`/product/${item.product}`}>{item.name}</Link>\n                                            </Col>\n                                            <Col md={4}>\n                                                {item.qty} x ${item.price} = ${item.qty * item.price}\n                                            </Col>\n                                        </Row>\n                                    </ListGroup.Item>\n                                ))}\n                            </ListGroup>\n                        )}\n                    </ListGroup.Item>\n                </ListGroup>\n              </Col>\n              <Col md={4}>\n                  <Card>\n                      <ListGroup variant='flush'>\n                          <ListGroup.Item>\n                              <h2>Order Summary</h2>\n                          </ListGroup.Item>\n                          <ListGroup.Item>\n                              <Row>\n                                  <Col>Items</Col>\n                                  <Col>${cart.itemsPrice}</Col>\n                              </Row>\n                          </ListGroup.Item>\n                          <ListGroup.Item>\n                              <Row>\n                                  <Col>Shipping</Col>\n                                  <Col>${cart.shippingPrice}</Col>\n                              </Row>\n                          </ListGroup.Item>\n                          <ListGroup.Item>\n                              <Row>\n                                  <Col>Tax</Col>\n                                  <Col>${cart.taxPrice}</Col>\n                              </Row>\n                          </ListGroup.Item>\n                          <ListGroup.Item>\n                              <Row>\n                                  <Col>Total</Col>\n                                  <Col>${cart.totalPrice}</Col>\n                              </Row>\n                          </ListGroup.Item>\n                          <ListGroup.Item>\n                              <Button \n                              type='button' className='btn-block' \n                              disabled={cart.cartItems === 0}\n                              onClick={placeOrderHandler}>\n                                  Place Order\n                                </Button>\n                          </ListGroup.Item>\n                      </ListGroup>\n                  </Card>\n              </Col>\n          </Row>\n        </>\n    )\n}\n\nexport default PlaceOrderScreen\n"]},"metadata":{},"sourceType":"module"}